@startuml
skinparam componentStyle rectangle
skinparam shadowing false
title Centrix v1 – System Overview (Phase 2 – Engine Loop & Heartbeats)

[IBKR Gateway]
[Database]
[Slack Control]
[Slack Notify]

rectangle "Centrix Core" as Core {
  [Engine Loop]
  [Risk Service]
  [IB Client]
  [Order Service]
}

Core --> Database
Slack Control --> Core
Slack Notify <-- Core
Core --> IBKR Gateway
Engine Loop --> Risk Service
Risk Service --> Database
IB Client --> IBKR Gateway
Engine Loop --> IB Client
Engine Loop --> Order Service
Order Service --> Risk Service
Order Service --> IBKR Gateway
Order Service --> Database

note bottom of IB Client
Phase 4: Connection/Status only
no orders
end note

note bottom of Order Service
Phase 5: Paper orders, no strategies/Slack
end note
@enduml
